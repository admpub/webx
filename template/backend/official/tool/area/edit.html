{{Extend "layout"}}
{{Block "title"}}{{$.Stored.title}}{{/Block}}
{{Block "breadcrumb"}}
{{Super}}
<li><a href="{{BackendURL}}/tool/area/index">{{"地区列表"|$.T}}</a></li>
<li class="active">{{$.Stored.title}}</li>
{{/Block}}
{{Block "main"}}
<style>.select-parent-id{width:200px;display:inline;}</style>
{{- $data := $.Stored.forms.Model -}}
<div class="row">
  <div class="col-md-12">
    <div class="block-flat no-padding">
      <div class="header">
        <h3>{{$.Stored.title}}</h3>
      </div>
      <div class="content">
        <form class="form-horizontal group-border-dashed" data-parsley-validate novalidate method="POST" action="">
          <input type="hidden" name="id" value="{{$data.Id}}">
          <div class="form-group">
            <label class="col-sm-2 control-label">{{`上级地区`|$.T}}</label>
            <div class="col-sm-8">
              <select name="pids[]" class="form-control select-parent-id" id="select-parent-id" data-target="#pid" data-exclude="{{$data.Id}}"></select>
              <input type="hidden" id="pid" class="form-control" name="pid" value="{{$data.Pid}}" maxlength="100" />
            </div>
          </div>
          {{- $.Stored.forms.Render -}}
          <div class="form-group">
            <label class="col-sm-2 control-label">{{`拼音`|$.T}}</label>
            <div class="col-sm-3">
              <input type="text" class="form-control" name="pinyin" value="{{$data.Pinyin}}" maxlength="100" />
            </div>
            <label class="col-sm-2 control-label">{{`国家码`|$.T}}</label>
            <div class="col-sm-3">
              <input type="text" class="form-control" name="countryAbbr" value="{{$data.CountryAbbr | Default `CN`}}" maxlength="2" placeholder="{{`例如: CN`|$.T}}" />
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">{{"区号"|$.T}}</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" name="code" value="{{$data.Code}}" maxlength="100">
            </div>
            <label class="col-sm-2 control-label">{{`邮编`|$.T}}</label>
            <div class="col-sm-3">
              <input type="text" class="form-control" name="zip" value="{{$data.Zip}}" maxlength="100" />
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-2 control-label">{{"经度"|$.T}}</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" name="lng" value="{{$data.Lng}}" maxlength="100">
            </div>
            <label class="col-sm-2 control-label">{{`纬度`|$.T}}</label>
            <div class="col-sm-3">
              <input type="text" class="form-control" name="lat" value="{{$data.Lat}}" maxlength="100" />
            </div>
          </div>
          <div class="form-group form-submit-group">
            <div class="col-sm-9 col-sm-offset-2">
              <button type="submit" class="btn btn-primary btn-lg"><i class="fa fa-save"></i> {{"保存"|$.T}}</button>
              <button type="reset" class="btn btn-default btn-lg"><i class="fa fa-refresh"></i> {{"重置"|$.T}}</button>
            </div>
          </div>
        </form>
      </div><!-- /.content -->
    </div><!-- /.block-flat -->
  </div>
</div>
{{/Block}}
{{Block "footer"}}
<script src="{{AssetsURL}}/js/behaviour/page/cascade-select.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(function(){
  CascadeSelect.init('#select-parent-id',{{$.Stored.pids|JSONEncode|ToJS}});
});
</script>
{{/Block}}