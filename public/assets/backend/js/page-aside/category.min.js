(function(d){function l(i,s,u,o){u=String(u);var c=/"/g;return function(a){if(a.Code!=1)return App.message({text:a.Info,type:"error"});var e="";for(var t=0;t<a.Data.listData.length;t++){var r=o?o(a.Data.listData[t]):a.Data.listData[t];var n='<a href="'+u.replace("{id}",r.id)+'" data-id="'+r.id+'" data-pjax="#pcont" data-keepjs="true" title="'+String(r.name).replace(c,"&quot;")+'">'+r.name+"</a>";var l="<li>";if(r.has_child=="Y"){l+='<label class="nav-header">';l+='<i class="fa fa-folder-o tree-toggler"></i>';l+=n;l+="</label>";l+='<ul class="nav nav-list tree"></ul>'}else{l+='<label class="nav-header">';l+='<i class="fa fa-folder-open-o"></i>';l+=n;l+="</label>"}l+="</li>";e+=l}if(s){d(i).append(e)}else{d(i).parent().next("ul.tree").append(e)}}}function e(a){d(".treeview").find("li.current").removeClass("current");d(a).closest("li").addClass("current")}function t(a,e){var t=d(this).data("href")||e.href,r=d(this).data("url")||e.url,n=e.result||null;d.get(r,{},l(a,true,t,n),"json");App.treeToggle(null,{ajax:function(){var a=this;return{url:r,method:"GET",dataType:"json",data:function(){return{parentId:d(a).next("a").data("id")||""}},success:l(a,false,t,n)}}})}d.fn.pageAsideCategory=function(a){d(this).each(function(){t(this,a)});d(this).on("click","a",function(){e(this)})}})(jQuery);