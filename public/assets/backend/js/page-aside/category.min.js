(function(h){function n(d,f,c,u,v){c=String(c);var p=/"/g;return function(a){if(a.Code!=1)return App.message({text:a.Info,type:"error"});var e="";for(var t=0;t<a.Data.listData.length;t++){var l=u?u(a.Data.listData[t]):a.Data.listData[t];var r='<a href="'+c.replace("{id}",l.id)+'" data-id="'+l.id+'" data-pjax="#pcont" data-keepjs="true" title="'+String(l.name).replace(p,"&quot;")+'">'+l.name+"</a>";var i=v&&v==l.id;var n=i?' class="active"':"";var s=i?"fa-folder-open-o":"fa-folder-o";var o="<li"+n+">";if(l.has_child=="Y"){o+='<label class="nav-header">';o+='<i class="fa '+s+' tree-toggler"></i>';o+=r;o+="</label>";o+='<ul class="nav nav-list tree"></ul>'}else{o+='<label class="nav-header">';o+='<i class="fa '+s+'"></i>';o+=r;o+="</label>"}o+="</li>";e+=o}if(f){h(d).append(e)}else{h(d).parent().next("ul.tree").append(e)}}}function t(a,e){h(a).find("li.active").removeClass("active").find("i.fa-folder-open-o").removeClass("fa-folder-open-o").addClass("fa-folder-o");h(e).closest("li").addClass("active");h(e).prev("i.fa-folder-o").removeClass("fa-folder-o").addClass("fa-folder-open-o")}function l(a,e){var t=h(this).data("href")||e.href,l=h(this).data("url")||e.url,r=e.result||null,i=e.selected||"";h.get(l,{},n(a,true,t,r,i),"json");App.treeToggle(null,{ajax:function(){var a=this;return{url:l,method:"GET",dataType:"json",data:function(){return{parentId:h(a).next("a").data("id")||""}},success:n(a,false,t,r,i)}}})}h.fn.pageAsideCategory=function(a){h(this).each(function(){l(this,a)});var e=this;h(this).on("click","a",function(){t(e,this)})}})(jQuery);