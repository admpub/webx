(function(p){function r(s,c,o,d,u){o=String(o);var f=/"/g;return function(a){if(a.Code!=1)return App.message({text:a.Info,type:"error"});var e="";for(var t=0;t<a.Data.listData.length;t++){var i=d?d(a.Data.listData[t]):a.Data.listData[t];var l='<a href="'+o.replace("{id}",i.id)+'" data-id="'+i.id+'" data-pjax="#pcont" data-keepjs="true" title="'+String(i.name).replace(f,"&quot;")+'">'+i.name+"</a>";var n=u&&u==i.id?' class="active"':"";var r="<li"+n+">";if(i.has_child=="Y"){r+='<label class="nav-header">';r+='<i class="fa fa-folder-o tree-toggler"></i>';r+=l;r+="</label>";r+='<ul class="nav nav-list tree"></ul>'}else{r+='<label class="nav-header">';r+='<i class="fa fa-folder-open-o"></i>';r+=l;r+="</label>"}r+="</li>";e+=r}if(c){p(s).append(e)}else{p(s).parent().next("ul.tree").append(e)}}}function t(a,e){p(a).find("li.active").removeClass("active");p(e).closest("li").addClass("active")}function i(a,e){var t=p(this).data("href")||e.href,i=p(this).data("url")||e.url,l=e.result||null,n=e.selected||"";p.get(i,{},r(a,true,t,l,n),"json");App.treeToggle(null,{ajax:function(){var a=this;return{url:i,method:"GET",dataType:"json",data:function(){return{parentId:p(a).next("a").data("id")||""}},success:r(a,false,t,l,n)}}})}p.fn.pageAsideCategory=function(a){p(this).each(function(){i(this,a)});var e=this;p(this).on("click","a",function(){t(e,this)})}})(jQuery);